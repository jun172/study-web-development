// ã‚¢ãƒ©ãƒ¼ãƒ è¨­å®š
    function setAlarm() {
      const input = document.getElementById("alarmTime").value;
      if (!input) {
        alert("ã‚¢ãƒ©ãƒ¼ãƒ æ™‚åˆ»ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚");
        return;
      }
      alarmTime = input;
      alert(`ã‚¢ãƒ©ãƒ¼ãƒ ãŒ ${alarmTime} ã«è¨­å®šã•ã‚Œã¾ã—ãŸã€‚`);
    }

    // ã‚¢ãƒ©ãƒ¼ãƒ ç™ºå‹•ãƒã‚§ãƒƒã‚¯
    setInterval(() => {
      if (!alarmTime) return;
      const now = new Date();
      const current = now.toTimeString().slice(0, 5); // HH:MM
      if (current === alarmTime) {
        alarmTime = null; // ãƒªã‚»ãƒƒãƒˆ
        audio.src = audioURL || "sound/favorite_song.mp3"; // éŒ²éŸ³ãŒãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ›²
        audio.play();
        alert("â° ã‚¢ãƒ©ãƒ¼ãƒ ã®æ™‚é–“ã§ã™ï¼");
      }
    }, 1000);

    // éŒ²éŸ³é–‹å§‹
    async function startRecording() {
      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
      mediaRecorder = new MediaRecorder(stream);
      audioChunks = [];

      mediaRecorder.ondataavailable = e => {
        if (e.data.size > 0) audioChunks.push(e.data);
      };

      mediaRecorder.onstop = () => {
        audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
        audioURL = URL.createObjectURL(audioBlob);
        audio.src = audioURL;
      };

      mediaRecorder.start();
      console.log("ğŸ™ï¸ éŒ²éŸ³é–‹å§‹");
    }

    // éŒ²éŸ³åœæ­¢
    function stopRecording() {
      if (mediaRecorder && mediaRecorder.state === "recording") {
        mediaRecorder.stop();
        console.log("ğŸ›‘ éŒ²éŸ³åœæ­¢");
      }
    }
